$(function(){var a=$(".page-builder"),b=a.data("href");$.get(b,function(b){a.append(b),$(".modal-button-group .cancel").on("click",function(){$("#"+$(this).data("modalId")).foundation("reveal","close")}),$(".modal-button-group .save.pb-row-btn").on("click",function(){var a=$(this),b=a.parent().parent().serialize(),c=$("#"+a.data("modalId")).data("href"),d=$("#"+a.data("modalId")).data("id");$.post(c,b,function(b){$("#"+a.data("modalId")).foundation("reveal","close"),$("#element"+d).html(b)})}),$(".modal-button-group .save.pb-element-btn").on("click",function(){var a=$(this),b=a.parent().parent().serialize(),c=$("#"+a.data("modalId")).data("href"),d=$("#"+a.data("modalId")).data("itemId");$.post(c+"&"+b,function(b){$("#"+a.data("modalId")).foundation("reveal","close"),$("#column-content-"+d).append(b)})})}),a.on("click",".add-e-pb",function(){var a=$(this),b=a.attr("href");return $.get(b,function(b){a.parent().parent().append(b)}),!1}).on("click",".open-modal.edit-row",function(a){a.preventDefault();var b=$(this),c=$("#"+b.data("revealId"));c.data("href",b.data("urlPost")),c.data("id",b.data("id")),$.get(b.data("urlGet"),function(a){var b=JSON.parse(JSON.parse(a));c.find('[name="container"]').val(b.container),c.find('[name="columnsType"]').val(b.columnsType),c.find('[name="extraClass"]').val(b.extraClass)}),c.foundation("reveal","open")}).on("click",".open-modal.add-element",function(a){a.preventDefault();var b=$(this),c=$("#"+b.data("revealId"));c.data("href",b.data("urlPost")),c.data("itemId",b.data("itemId")),c.find('[name="parent_id"]').val(b.data("id")),c.foundation("reveal","open")}).on("click",".add-e-row",function(){var a=$(this),b=a.attr("href");return $.get(b,function(b){a.parent().parent().append(b)}),!1}).on("click",".active-e-row",function(){var a=$(this),b=a.attr("href");return $.post(b,function(b){var c=JSON.parse(b);c.status?a.removeClass("fa-toggle-on").addClass("fa-toggle-off"):a.removeClass("fa-toggle-off").addClass("fa-toggle-on")}),!1}).on("click",".delete-e-row",function(){var a=$(this),b=a.attr("href");return $.post(b,function(b){var c=JSON.parse(b);c.status&&a.parent().parent().hide()}),!1})}),$(function(){var a=$(".action-buttons");a.on("click","button",function(){a.children("input").val($(this).data("submit"))})});